
== Going with Open Source

How and Why open source works was described in the previous chapters.
In many cases, the idea of using open source originates with a project leader or mid-level manager in a company.
This chapter and the two that follow address such leaders and managers more so than executives.
Our aim is to help you decide whether open source is right for your project and describe steps you should take to proceed and missteps to avoid, if you so decide.footnote:[Because our primary experiences with starting open-source projects from within a company come from our efforts at Sun, most of the examples in this chapter are from there.]

=== Deciding to Do Open Source

After reading the first six chapters of this book, you are in a position to make an intelligent decision about whether open source is appropriate for your project.
Here are some of the questions that you need to answer:

==== Do You Buy the Lifestyle?

Are you willing to do your work in the open and collaborate with people outside your company?
Will you use public mailing lists instead of internal ones? Are you willing to spend significant amounts of time discussing design and direction with outside community members?
Is everyone working on your project willing to work this way?
Are your managers (and their managers) willing to change how your project is run?
Are you willing to give up total control and let the community make many of the decisions?

==== Does your Business Model Support it?

What are your business goals? Are you trying to make a platform ubiquitous, gain developer mindshare, create a for-sale product, sell support or services, or something else?
How does open source help you achieve these goals?
How will your business model develop over time?
Do you need to provide support for your product?
If so, how will you support it?

==== Can you Legally Open source Your Code?

Does your company own the rights to all of your source code?
Does it include any third-party code? Does it use any third-party intellectual property (such as patents or trade secrets)?

Who is your target audience?
Why will these people care about your project?
What do they get out of it? What licenses are they currently using for related projects?
Will your license be compatible with theirs? Will you be competing with an existing open-source project?
Is there a working version of your code that people can use right now?

==== Is Your Source Code Open-Source-Friendly?

Large monolithic and poorly documented applications require lots of study before a developer can make even a small change.
How easy is it for new people to learn their way around your code base?
Is your code modular?
Is there sufficient documentation?
Are you willing to refactor the code?
Are the main developers of the code willing to answer questions?

==== Can You Get the Resources?

Doing open source requires some basic infrastructure.
Can you provide the people to maintain the CVS archive, project mailing lists and archives, website, and bug database?
Can you support a community coordinator, a website editor, and a buildmaster?
Do you have a budget to design and host your project's website?

==== Do You Have Realistic and Measurable Goals?

How will you know whether your project is a success?
How can you convince your managers and others at your company that you are achieving your goals?
For an open-source project, success is more than just when you release and what features were implemented.
Success includes the health of the community.
What numbers are meaningful for your project goals (for example, market share, number of active outside developers, number of user contributions, or amount of email sent to mailing lists)?

==== What Support Do You Need from Your Manager?

Is your management willing to allocate sufficient resources?
Will they assess you on the success of the open-source effort?
If the open-source community needs more time to make a decision or get a release out, is your management willing to slip schedules, or must you meet your company's internal schedules and deadlines at all costs?
How about other managers at your company who run projects that depend on your project?

=== How to Prepare to Do Open Source at Your Company

If your answers to the previous questions support the use of open source for your project, then what?
We now discuss some steps you can take to create a successful open-source project.

==== Resources at Your Company to Help You

If your company is already participating in open source, then there are probably people in the company able to help you get started with your new open-source project — it might even be part of their job descriptions.
Even if your project will be your company's first venture into the realm of open source, there are still apt to be internal company resources you can draw on to help make your project successful.

Possibly your company has established some sort of Open-Source Program Office to help launch and maintain company-sponsored open-source projects.
This may include one or more people whose job is to monitor and advise groups in the company in their dealings with the open-source community.
They can be very helpful in advising you on what license to use, negotiating with outside providers to host your project's website, training your team, and building the community, for example.
They may have an internal company website on company procedures for open-source-related activities.
There might also be an internal mailing list to discuss open-source issues.

Your company's legal department may have some people who know about open source, at least from a licensing perspective.
We say more about legal issues later when we discuss getting source code ready to be made public and company policies for approving open-source projects.

You should definitely talk with the folks in any other projects within your company that use or develop open source.
They are the ones who are in the best position to help you understand what you are getting yourself into.

==== Educate Yourself and Your Team about Open Source

The best way to prepare to do open source is to participate in an existing open-source project.
You or someone from your team should find an open-source project of interest and join it.
Download the project's code and play with it.
Follow the mailing lists.
Perhaps fix a bug or contribute a small modification.
Other members of your team should also participate in open-source projects that interest them.

Doing this for a few weeks will give you and your teammates a good idea of what an open-source project really feels like.
You will also gain an appreciation for what it's like to be an outsider.
Were you treated courteously in your interactions with the project's module owners and core developers?
Were your suggestions and contributions dealt with promptly?
Did you feel accepted and encouraged?
This should give you plenty to think about when you are running your own open-source project.

Another way to learn about the open-source culture firsthand is to join discussions on websites such as Slashdot.footnote:[http://slashdot.org]
Read the postings to see the range of people who make up the open-source community — from clueless newbies to experienced professionals.
Post your own comments on topics you personally care about.
Please avoid flaming.
If you post with an email address from your company, you might check whether your comments are treated specially.
Don't feel that you always need to defend your company — that's best done by people who don't work for your company.

Not all developers are suited for the open way that open-source projects must be run.
Getting a taste from participating in someone else's project may aid in identifying whether you, or someone on your team, is not well-suited for open source.

==== Educate Your Manager about Open Source

Developing open-source software is quite different from creating proprietary software.
You will need the support of your manager to succeed.
Your manager, and probably his or her manager, will also need to understand how open source works along with its advantages and disadvantages.

You need to make sure that your manager does not believe any of the various myths and misconceptions about open source (see <<common-myths>> in Chapter 3).

Does your manager understand how an open-source development process will change how you do your work?
Is it clear how the business model for the project is supported by open source?
Most important, does your manager agree that the benefits gained by creating an open-source community around your project is worth more than your company keeping total control?

It is vital to your project that your manager understands the basics of open source, especially after approving your use of it.
If your manager has unrealistic expectations, you need to correct them immediately;
they are certain to create major problems for you down the road.
For example, some managers believe that open source will allow them to cut back on the number of company-employed developers working on the project because community volunteers will take up the programming load.
When after a year you ask for more head count, they will feel deceived and you will probably be lucky to keep the resources you already have.

==== Develop Your Business Model

If you haven't already developed the business model for your project, now is the time to do so.
Your business model should make it clear what your business goals are and how they fit with the company's goals.
It should explain how using an open-source development model helps you achieve your goals.
For more information, refer to <<business-reasons>> in Chapter 4.

==== Design Appropriate Review Criteria

You and your manager will need to establish proper criteria to measure the success of your project.
You need to include both the traditional metrics on the code itself and ways to measure the success of the community working on your project.
Based on your business model, you need to decide which numbers are meaningful — for example, release dates, feature sets, market share, number of active outside developers, number of user contributions, or amount of email sent to mailing lists.

You and your manager also need to meet with your human resources representative to design appropriate performance review criteria that measure developers on both their contributions designing and writing code and on their contributions to making the open-source community a success by responding to messages on project mailing lists, incorporating contributions and bug fixes from outside developers, and performing other community-related activities.

==== Choosing a License

When you choose a license for your project, it is best to use one of the well-known, existing licenses rather than trying to create a new one.
Even a short, clearly written new license is an additional hurdle that limits outside participation — and most new licenses tend to be neither short nor clear.
Legal departments in universities and in other, noncommercial organizations are reluctant even to read a new license for their clientele, so if you want to address the university user and developer communities, writing your own license will probably backfire.
For a fuller discussion of the various licenses, refer to Chapter 5; for the full text of each license discussed see Appendix B.

Here are some questions that will help you select an open-source license:

* Does your project currently use any open-source code?
If so, then you need to use the same license that the open-source code uses or another license that is compatible with it.
* Will your project need to work with any other existing open-source groups or code?
If so, then you need to use a license that is compatible with theirs.
For example, working with GNOME or Linux groups will be easier if your project uses the GNU General Public License (GPL) or Lesser General Public License (LGPL), but working with an Apache-related project will be easier if your project uses a Berkeley Software Distribution (BSD)-style license.
* Whom do you see as your potential contributors:
companies or individuals?
If the answer is companies, then don't use the GPL because many companies are still reluctant to use that style of license;
instead consider using the Mozilla Public License (MPL) or BSD so that proprietary products are possible.
If the answer is individuals, then GPL may be a good choice.
If you want to minimize barriers as much as possible, consider a BSD-style license.
* Does your code define a platform or infrastructure?
If so, then a gated-community license or GPL will be better suited to your needs — something similar to the Sun Community Source License (SCSL) if the technology needs a strong central organization to move it forward or GPL if the technology is more mature.
* Are you primarily trying to establish a standard?
If so, then you may not need to develop any source code and don't need a license.
Instead, you need to establish a standards group.
If the standard already exists and you want to promote it, then using a license similar to the Sun Industry Standards Source License (SISSL) may be appropriate.
* Will your company or others want to include your source code in commercial products?
Both the MPL and any BSD-style licenses support creating proprietary larger works, LGPL can also be considered.
* Is compatibility critical?
If so, then a variation on either the SISSL or the SCSL may be appropriate.
Alternatively, the license could not try to control the technology at all but, rather, you could require that any products pass a set of compatibility tests before they can use the trademarked name or logo.
* Are you worried that predators will try to embrace and extend the technology?
If so, then using the GPL or SISSL would force them to reveal any extensions they might make.
Using something such as the SCSL would not allow them to release an incompatible product, but that may also reduce community involvement.
* Are you or others at your company unwilling to give up control of the technology?
SCSL was designed in part to allow Sun to keep enough control of Java to prevent incompatible versions.
The effect of the license has been balanced by changes to the Java Community Process (JCP) that now give other companies an equal say in decisions about changes to Java.
Be aware that the refusal to let the community take charge may limit your effort.
Wanting to keep control is often a sign that you should not consider using open source at all.
* Do you plan to sell software developed by your project?
Many companies do sell software developed under an open-source license.
For example, Red Hat charges for its version of Linux.
Other companies use an open-source code base, create their own proprietary products on top, and charge for those products.
Whatever you choose as a business model, remember that with open-source licenses, your base code will be free for anyone to view.
* If you are willing to let anyone use the technology for free, but want to charge for the use of a name or logo, then you can use any license for the technology and have a separate logo license for anyone who is willing to pay to use the logo.
* Is there any IP that you do not want to make publicly available?
It is possible to make your source code freely available using open source, but require people to license your patents before they can distribute any software based on the source code.
If you want to limit the technology to be used only by the project, then you need to use a license that is explicit about IP such as MPL, SISSL, or SCSL.
* Are there two disjoint communities that you need to work with?
If so, then you may need to use a dual license so that each community uses the license best suited to it.
However, this will complicate your life, so if at all possible try to use a single license.

You also need to decide on what a developer must agree to in order to contribute source code to your project.
Refer to the section Supplementing the License — Contributor Agreements in Chapter 5 for more details.

If you are thinking of joining an existing open-source project, then a license has already been selected by the project.
You need to consider whether you can achieve your business goals under that license.
If you are planning to combine the open-source code with proprietary code, then GPL will not work, but any of the other licenses, including LGPL, will be okay.

==== Getting Your Source Code Ready to Release

If you are starting a new open-source project, then you need to have working code in order to attract people to your project.
Your code probably was not developed from scratch with the intent of making it available to the public, so you will need to get it ready before you can release it.
There are two major aspects of the code to consider:
design and legal ownership.

===== Design Issues

One aspect of proprietary code development is that most of the code is seen only by the developer who originally wrote it.
It is not apparent to anyone else if the code has gotten ugly, if a rough prototype intended to be thrown away has instead become the production code, or if changes and patches have been force fit over an antiquated design in order to add new functionality.
The prospect of opening up the source code to the scrutiny of outside developers can be quite unsettling.

Before the source code is released, it is important to do a thorough design review of it to avoid embarrassment.
We would all like the code to be perfect and polished, but that is never the case and not something that any open-source developer expects.
But do check to make sure that the code is not truly awful;
if chunks of it are truly awful, they may need to be worked on.
Sometimes all that is needed is a comment explaining matters, for example, saying that something is a quick hack to provide functionality needed to test another module or that it handles only the basic case and needs to have special cases added later.
If outside developers understand why a design or implementation decision was made, they will not make unreasonable criticisms of the code.
However, they will be justifiably harsh if the code is really bad and there are no extenuating circumstances.

Think of the source code as a work in progress, an approximation of what you want that is going to grow and change over time.
Some parts will be exquisite jewels, whereas others will be lumps of coal.
What is most important is that it is possible for an outside developer to make small changes to the code (for bug fixes or minor improvements) without breaking everything.

Part of the design review, then, is to make sure that the code is open-source-friendly.
It is critical that the source code builds or is usable in a working application that people can use right now.
If the code is still in development and cannot be used to do anything interesting yet, then it may need more work before it is ready for release.
Also, if the code is not already modular, you may need to make it so.
Large monolithic applications that require the developer to know all of the code in order to modify a small part are not suited to open-source development.

Another part of the design review is to examine the project documentation.
If you do not already have a good architectural overview, clear instructions for installation, and a documented build process, then you need to write those documents.
Your user community will also need a good user's manual.

===== Legal Issues

Before you can release any source code, you need to do due diligence on the code to make sure there are no legal problems.
You must first be sure that your company legally has the right to release the source code.
This means that you must check all of the code to see whether any of it was developed by a third party or whether it makes use of any third-party intellectual property (for example, patents or trade secrets).
If any third-party work is found, you need to check the terms of the license that your company has to use it to see whether you can distribute it.

For example, the Sun StarOffice office suite product contains third-party code for printing and spell checking that Sun cannot legally make available, so those modules could not be included when Sun created the OpenOffice open-source project based on StarOffice.
Hence, OpenOffice started out with no printing or spell-checking code.
The project has since written new code for printing and has incorporated a new spell checker developed by another open-source project.

Searching your code for third-party IP can take a lot of time.
Some of the searching can be done with automated tools (for example, using grep on all of the files for the word _copyright_), but much must be done by hand.
It is often very useful to bring fresh eyes to this task, so not just the engineers who have been working on the code should conduct the search.
Don't forget budget concerns when you request engineers from other projects within your company to review your source code.

The StarOffice example illustrates the need to check the source code itself rather than assuming that when your company acquires another company that all the source code in any of its products automatically is fully owned by your company.
Code can be third party because it was third party to the company that your company acquired.
The only safe way to identify all third-party code is to actually go and examine all the source code.

It is also important to identify any of your company's IP in the source code that you might not want to make generally available, for example, code for which patents have not yet been filed.
Which IP should be shared and which should not is a business decision.

The source code may contain information about internal aspects of your company that you may want to remove, such as your future plans relating to other products or the names of former developers.
There are many reasons why developers involved in creating proprietary software may not want their names associated with it when the code is open sourced;
for example, they may not be proud of the code they wrote or they may not want to be bothered with questions about it.
This means that you may also need to clean out CVS logs or entries in your current bug database.

Finally, it is necessary to scrub the code of any nasty comments or inappropriate language.
It can be embarrassing to your company if people find disparaging comments about other companies or individuals.
If your code base is not too large, this is tedious but not too time consuming;
if you have several million lines of code to scrub, as in StarOffice, this can be a major undertaking.

One other legal issue concerns what to call the open-source application if it needs a different name than your company's branded product.
You should have your company's trademark department check on any names you plan on using.
It often does not make sense to trademark an open-source product name.

==== Create a Rational Development Plan

If your business model involves building a branded product (whether proprietary or not) on top of your open-source project, then you need to be very clear on how the development of the two efforts will be tied together.
You need to decide how you will merge changes developed in one effort into the other.
Will you periodically take a snapshot of the open-source project and incorporate that into the branded product?
Or will you do your sampling only after a major release of the open-source project?
Will you incorporate the entire open-source code base or only selected parts of it?
What is your process?

Because the open-source project involves volunteer developers from outside of your company, you will not be able to dictate its release cycle;
the community will decide on the schedule for doing a release and what features will be in it.
If your derived, branded product has a fixed release date, what will you do if the open-source release is delayed?
Can you slip your schedule for the branded product?

One good process is to base the branded version on a stable release of the open-source project.
Changes made to the branded product then flow back into the open-source code base.
This process guarantees that both code bases are as similar as possible and minimizes problems of version skew.
It also forces the schedule for the branded product to be tightly coupled with the open-source project release cycle.
xref:img-branded-project-built[xrefstyle=short] shows this, graphically.
In the figure, the lower line is the ongoing open-source development effort and the upper line is the branded development effort.
The numbers label the following events:

. Incorporation of changes from the open-source version into the branded product code base.
. Start of the open-source release process; the solid line is work on the next stable release; the dotted line is ongoing development (new or experimental) aimed at some future release.
. End of the open-source release cycle-a stable version is now available-and start of the branded release process, based on the stable open-source version.
. Merger of the open-source stable version with the main open-source development branch.
. End of the branded product release cycle-a stable version of the branded product is now available.
. Merger of the stable branded product code back into open-source code base.
Note: Some changes might have been merged back earlier (between points 4 and 6).

.Branded product built on stable open-source project release.
[#img-branded-project-built]
image::images/fig7-1.png[]

A major assumption in this process is that there will be no major differences between the open-source version and the corresponding parts of the branded product.
The branded version may include additional functionality, but those parts in common with the open-source version will be a strict subset of the official open-source release.
The only exceptions will be temporary improvements in the branded version, such as bug fixes or updated documentation, that will be migrated back to the open-source code base.

An alternative, less desirable development process is to maintain two separate code bases and have the developers of the branded product decide both when to merge in code from the open-source project and when to submit changes back to it.
This certainly gives you the most flexibility, but also the most management complexity because the two code bases will evolve independently.
Graphically this process is shown in xref:img-branded-product-independent[xrefstyle=short].
The lower line in the figure is the ongoing open-source development effort and the upper line is the branded development effort.
The numbers label the following events and processes:

. Incorporation of changes from the open-source version into the branded product code base.
. Incorporation of changes from the branded product into the open-source code base.
. Start of the open-source release process; the solid line is work on the next stable release; the dotted line is ongoing development (new or experimental) aimed at some future release.
. End of the open-source release cycle-a stable open-source version is now available.
. Merger of the open-source stable version with the main open-source development branch.
. Ongoing branded release process.
. End of branded product release cycle-a stable version of the branded product is now available.

.Branded product independent of the open-source project release cycle.
[#img-branded-product-independent]
image::images/fig7-2.png[]

Notice that the development of the open-source version and the branded product happen in parallel;
there is no relationship between the release cycles of the two efforts.
Code is taken from one effort and incorporated into the other whenever some developer thinks it is appropriate.

The assumption here is that the two versions can have different features.
They are now two separate products, sharing only a family resemblance.
Over time, their differences will most likely increase unless there is some strong pressure to bring the two versions together.

This style of development makes sense when the branded product includes proprietary features.
Sometimes, as with early versions of GhostScript, these features will eventually be contributed to the open-source version.
For other projects, such as sendmail, the open-source version is used to increase the quality by incorporating the feedback from many people using sendmail in real situations.
In both these cases, the main developers must work extensively with the open-source community.

A third (undesirable) development process that we warn you against is to use the development of the branded product to drive things forward.
This is shown in xref:img-branded-product-thrown[xrefstyle=short].
Again the lower line in the figure is the ongoing open-source development effort and the upper line is the branded development effort.
The numbers label the following events and processes:

. Ongoing branded release process.
. End of branded product release cycle-a stable version of the branded product is now available.
. Incorporation of changes from the branded product into the open-source code base.
. Start of the open-source release process.
. End of the open-source release cycle-a stable open-source version is now available.

.Throwing code over the wall from the branded product to the open-source project.
[#img-branded-product-thrown]
image::images/fig7-3.png[]

Here the development of the branded version takes place internally, and when it is done the new code is "thrown over the wall" to the open-source project.
Note that improvements to the open-source project are never incorporated back into the branded product.
Companies using this model probably have all their internal developers working only on the branded version, leaving the open-source effort solely to outside volunteers.
This process treats the open-source project as a second-class effort, and as a result the open-source project will probably fail or at best become more like a user group.
This development process is what we expect for proprietary software development.
This is also the process that managers in your company may be most comfortable with and the one that they may try to force your project to use.
However, using it will mean that you will not get any of the benefits from open source and that you will enjoy the negative publicity from a failing open-source project.

==== Budgeting Resources for Your Project: People and Website

Chapter 6 describes a number of tasks that you need to do in order to have a successful project.
You need to assign people to the following jobs:

* Evangelist/community manager/community coordinator
* Website editor
* Scribe to document the system architecture and record reasons for design decisions
* Module owners
* Developers or system administrators to support the CVS archive, mailing lists, bug database, and website
* Buildmaster
* Release manager

For a new project, all of these will initially need to be done by your company's employees.
As your project grows, outside developers may volunteer to take on some of the tasks.
If you are joining an existing open-source project, then you may need to handle only the module owners' tasks for the code you contribute.

Your project's website provides the place for your community of developers to live.
For more information on what the website needs to do, refer to <<community-website>> in Chapter 6.
If you are starting a new open-source project, then you may also need to create a new website.
If you join an existing project, there is probably an existing website that you will be able to build on.

==== Choosing the Community Manager

The community manager (or evangelist or community coordinator) is the company's voice to the community.
This person is the Linus Torvalds of your project.
Your project will be associated with this person at least as much as your project is associated with your company.
The community manager has to be able to speak on a variety of technical, political, social, and community levels.
Therefore, this person must be chosen carefully and must have a rare combination of skills.
The following is a list of some of the most important ones:

* Must be able to speak both to experts and to novices with natural style and grace.
* Must be able to speak about vision, strategy, engineering, source code, architecture, design, release management, and testing.
* Must understand what a community is like and how to build and sustain one, and must be able to speak clearly about these issues--or else must have a trusted partner who does.
* Must be fair and be able to act without bias when operating on behalf of the community, especially when the aims of the community don't match the aims of the company.
* Should be a known person in the outside computing world (this is often not possible, but the community manager will become well-known outside the company if all goes well).

Natural community managers share some things you can recognize:
project leaders want them on their teams, marketing people ask them to make presentations, and email from them is clear, crisp, and definitive.

Finding this person will not be easy.
You may hesitate to assign anyone with these capabilities and qualities to a project role that might not seem to be the most profitable use of such talents.
This shows exactly how seriously you should take the decision to go with open source — it must be worth assigning one of your most talented developers to what some would call a babysitting role.

==== Creating a Website

If you even suspect that you might want to create a website for your project, immediately acquire the rights to the appropriate domain name.
Do it now.

Your website will need to provide the following services:

* A webserver that supports downloads
* A CVS server for the source code
* A mailing list server with a searchable archive
* A newsgroup feed of the mailing lists
* A bug-tracking system
* Disk space for developers and projects

If you are doing internal open source where everyone involved is a company employee, then you want a website inside your company's firewall.
For a gated-community or a true open-source project where people outside your company will participate, then for security reasons you probably want to host your website outside of your company's firewall.
You have three choices:

* Pay a company that does web hosting for open-source projects to run your website.
* Use one of the free open-source-project hosting sites.
* Do it yourself, possibly as part of your company's website.

Which one you pick will depend on your budget and project needs.

Before your website can go live you need to have your company's legal and trademark folks take a look at it to check that there are not any legal or trademark problems.
You should reserve time with them so they can look over your web pages well in advance of when you make the website accessible to the public.

===== Contract with a Company that Does Web Hosting of Open-Source Projects

Companies such as CollabNetfootnote:[http://www.collab.net] provide many of the services your open-source project will need.
They also charge a significant fee per year to do so.footnote:[In fall 2003, for a significant community the fee could be several hundred thousand dollars a year.]
In addition to providing the computers and software to host your website, the services also include a person to check that the community is functioning properly and perhaps another person to be the website editor.
If your project has any special needs, you can contract for additional features.
For a large project, having CollabNet host the website may make sense.
Sun uses CollabNet to host a number of its sponsored open-source projects such as NetBeans and OpenOffice.
Note that it can easily take 3-4 weeks to finalize a contract for your project, so don't leave creating your website until the last minute.

For its Collaborative Development Program (CDP), Hewlett-Packard's printing and imaging division contracted with CollabNet to provide web hosting.
CDP is a gated community where HP's worldwide employees can collaborate on software development projects along with HP's business partners and customers.

Sun has a special website called SunSource.netfootnote:[http://sunsource.net] for smaller Sun-sponsored open-source projects.
This website is also hosted by CollabNet.
Because the web infrastructure is shared by a number of projects, the cost is much less than setting up and running many separate project websites.
However, because the infrastructure is shared it is harder to add special features for a specific project.

One benefit of using a company such as CollabNet is that its staff includes people with lots of experience with numerous open-source projects.
They can help train your team in how to do open source and how to interact with the open-source community.
Another benefit is that they know what tools an open-source project needs and they provide them as part of their basic offering.
Be aware, however, that they may not be able to provide support for additional features or to customize your project's pages.
Be sure to check out several open-source projects that they host to determine whether they provide the features that you want for your project.

===== Use a Free Open-Source-Project Hosting Site

Because many open-source projects are composed largely of developers working in their free time with no sponsoring organization, websites have sprung up, such as VA Software Corporation's SourceForgefootnote:[http://sourceforge.net] or the Free Software Foundation's Savannah,footnote:[http://savannah.gnu.org] that provide free hosting of open-source projects.
This is great for developers and projects with no budgets, but it means you are limited to whatever basic features the hosting organization provides, which may include banner ads on your web pages.
For a small project with limited resources, SourceForge or Savannah may be the only possible alternative.

For a small project that may not be very visible, having it live on a website that lots of open-source developers regularly visit can only improve your chances of potential volunteers stumbling across your project.
Be sure to include a complete description of your project when you register it so that anyone searching through the current projects can find yours.

In summer 2004, there were over 83,000 projects hosted on SourceForge and over 2000 on Savannah.

===== Do It Yourself

Many of the large well-known open-source projects, such as Apache and Mozilla, are self-hosted.
Project volunteers maintain and support all the infrastructure for the website, CVS tree, bug database, and mailing lists.

Versions of all the tools needed to host an open-source project are themselves available as open source.
So if you choose to, you can do it yourself and set up your own website.
You will need either to have use of a company-owned web server outside your corporate firewall or to contract with a company that does web hosting.
You then do all the work to set up web pages, mailing lists, CVS trees, and your bug database.
The website for Jini.org was at one point run on a workstation owned by the Jini group and collocated at Best.com.
The IBM subsidiary that originally developed the code that became the Eclipse project originally hosted the Eclipse website alongside the subsidiary's public website.

It is also possible to buy versions of the software used by the open-source-project hosting websites mentioned:
VA Software sells SourceForge and CollabNet sells its successor to SourceCast — called CollabNet Enterprise Edition — to companies to set up for their external open-source projects or for internal open-source or gated communities.
An open-source version of SourceForge called Gforgefootnote:[http://gforge.org] is also available.

If you host your project's website on one of your company's web servers, then there are several potential problems you need to watch out for.
First, and most important: make sure your open-source project is distinct from the corporate website.
In order to create a real community, you need to give your project's web pages a look and feel that is different from those of your company's web pages.
Ideally, your project will have its own domain name and not use a URL that includes your company's domain name.
Check that your company's policy is flexible enough to let your project have its own flavor.

Next, you need to check your company's policy on the types of materials that can be posted on a company-sponsored website.
The needs of an open-source project are quite different from those of a corporate website.
Posting third-party content is often avoided on a corporate website, but it is the lifeblood of a successful open-source project.
Make sure that keeping an archive of messages sent by community members, which might include comments critical of your company or one of your competitors, is all right.
Check that contributions from the community can be made available as downloadable files.
How involved will your company's legal people be in approving what goes on your website (such as, liability issues, use of trademarks, and compliance with export regulations)?
Will you be more restricted by being hosted on one of your company's web servers than if you had contracted with an external web-hosting company?

Third, find out whether you can directly edit your website or whether someone in your company's IT department must do this.
Having your IT department maintain your web server is a major plus, but if the result is that minor changes take weeks to enact that won't work very well.

Some projects combine the do-it-yourself approach with the use of one of the free open-source-hosting websites.
For example, JBoss, an open-source Java application server project, has its own websitefootnote:[http://www.jboss.org] with project information and discussion forums, but relies on SourceForgefootnote:[http://sourceforge.net/projects/jboss] to provide its CVS tree, bug database, file downloading, and task management.

==== Making Use of an Existing Website

If you are joining an existing open-source project, then you will probably be able to use the project's website and not have to create a new site of your own.
If you are joining in on the work of ongoing modules, then all of the mailing lists, CVS archives, and bug databases should already exist;
you just need to subscribe to the mailing lists and start contributing.

If you are developing new modules, then you will probably need a new mailing list for each module.
If it is a large project, then it very likely that there is an easy (possibly automated) way to create a new subproject, complete with archived mailing lists and a directory in the CVS tree.
Some open-source efforts, such as Apache, require that you either be a member of the Apache Software Foundation (ASF) or have a member's sponsorship in order to start a new subproject.

Adding a new subproject to an existing website generally will not put a strain on the site's resources.
If you expect your project will be a significant burden due to the size of the code base or the traffic on the discussion lists, then you might want to consider donating server machines or making a monetary contribution.
Talk to the website maintainers and find out what they need to make the website better.
It's always good to volunteer resources, but don't assume they will be accepted (for example, a Linux-based website will probably not be interested in a Solaris-based web server).
Having your company listed as a supporter of the website is also a plus.

==== Your Website Needs an Editor-in-Chief

Your project may be making great progress as developers work on the source code, but, if no one is reporting the improvements on your website and general mailing lists, then to the outside world your project will look dead.
A stale website will turn people away, so you need to have someone assigned to keep the website home page up-to-date with the latest project news.
You want your website to attract both users and potential developers.
The larger your project, the more important it is to have a person whose job it is to let everyone know what's happening.
Editing the website may be part of the community coordinator's job.

==== Cross-Linking with Your Company's Web Pages

You should have pointers to your project's web pages from appropriate places on your company's main website.
For example, on IBM's website,footnote:[http://www.ibm.com] the IBM WebSphere Studio Workbench product web pages have pointers to the Eclipse website,footnote:[http://www.eclipse.org] and on Sun's websitefootnote:[http://www.sun.com] the Sun Java Studio product web pages have links to the NetBeans website.footnote:[http://www.netbeans.org]
The editor of your website should coordinate with the people managing your company's website so that it has up-to-date news of your project.
Often, when your project is first announced there will be lots of stories and links on several of your company's web pages, but months later nothing will have changed.
Stale references make it seem as if your project has not progressed.

You also should make sure that any link from your open-source website back to a commercial website is appropriate.
Having a banner ad for Sun on the NetBeans website would be in very bad taste, as would giving Sun preferential treatment with links to Sun products.
However, having a page of links to companies offering commercial NetBeans plug-in modules, including ones from Sun, would be okay.

=== Getting Approval from Your Company

Before you can announce your open-source project to the world, you have one last hurdle to clear:
getting official approval from your company.
Working with open source is similar to introducing a new product or making use of another company's proprietary code.
In both cases, your company is making a legal agreement that can limit future choices and create future obligations.
This is all part of normal business and so your company should have an established procedure for approving the use of open source in company activities.
Just as most companies require approval before a new product is introduced or an old product is retired, there should be an official approval process to create a new open-source project or end participation in an existing one.

A small company might do this casually, whereas a larger company will probably have a formal approval process.
If you've done all of the steps mentioned so far in this chapter, then you should have answers to the questions that will be asked during the approval process, and you should have no trouble getting your project approved.

Most companies will have different approval procedures depending on whether a project is intended to create a new open-source project to release source code developed internally (outbound open source) or whether code from an existing open-source project will be used in-house or incorporated into one of the company's products (inbound open source).
There may be still a third process to approve joining an existing open-source project, where you plan to both contribute company-developed source code and make use of externally developed code.

Your company should also have an approval process for employees who are working on an open-source project as individuals on their own time.
Although this is primarily to protect that individual and the open-source project they are participating in, it can also benefit your company by signalling its support for open source.

Finally, there needs to be an approval process for stopping work on an open-source project or decreasing the company resources allocated to it.
Just as every company needs to control how it ends the life of a product, similar end-of-life (EOL) considerations apply to stopping work on an open-source project.

Different issues and concerns are important for each of these situations;
we discuss each in turn.
Note that each company will have its own process, so you need to contact your company's legal department for details of your company's policy.

==== Who Should Be Approving Open-Source Activities?

Because of the possibly serious implications and requirements associated with both inbound and outbound open source, it is important that any approval body consist of executives at the same level as those who approve new products.
The approval board should include senior executives from development, marketing, product planning, and legal.
The reviewing team may include the head of your business unit.

It is vital that the approval of a company-sponsored open-source project come from a level higher than that of the manager who will be running the project, and it should come from a level above all of the groups that will be affected by the project.

If you are creating a new approval process for your company, be sure to announce it to everyone who might be involved.
Especially when it comes to downloading source code from the Internet, many engineers may not realize that they are potentially exposing the company to harm.

Creating a new open-source project is almost like releasing a new product — it consumes company resources, its quality reflects on your company, and it implies a certain commitment.
If you start a new project and it fails, this will probably generate bad publicity for and bad will toward your company.
The approval process needs to weed out the badly conceived projects and make sure that proposed projects have not neglected anything important.

There are two parts to a basic approval process for creating a new open-source project:
a business analysis to explain your business strategy and make the case for doing open source and due diligence to guarantee that the source code does not include any embarrassing comments or third-party encumbrances.
Only after both steps have been successfully completed can the project be started.
In fact, no announcement of your company's intent to release the code should be made until both steps have been completed.

==== Requirements for the Business Analysis

The business analysis should require you to examine two main areas:
the suitability of the source code for public distribution and the strategic significance for your company of releasing the code.

Steps for determining suitability include the following:

* Identifying the source code.
* Determining what stage of development the code is in — is it mature code?
* Confirming that the source code is free of viruses.
* Confirming that there is adequate documentation.
* Confirming that the source code is sufficiently modular and buildable that outside developers will be able to use it.
* Identifying the engineers who will participate on the due-diligence team.
* Identifying the employees who will interact with the community created by the new open-source project and confirming that they all understand how to interact.

Steps for determining strategic significance include the following:

* Listing the business goals for making the source code public.
* Identifying the audience/community that will use the code.
* Identifying the factors critical to the success of the effort, including the resources needed.
* Specifying which licensing model your project will use.
* Identifying what the financial impact on your company will be.
* Specifying a schedule for the project, including the target date to announce the release of the source code.

This information should be reviewed by your approval board, and if they decide that there are suitable business reasons for using open source, then you need to start the due diligence process.

==== Requirements for Due Diligence

Due diligence includes a review of the source code and documentation by your company's legal and technical staff to determine whether any third-party technology or proprietary information has been incorporated into the source code you are planning to release.
This is done by examining the source code thoroughly to determine the origin of each part.
Any code not developed by your company must be checked to determine whether it is under a license that allows you to include it in a public release, and, if not, the code must be replaced or relicensed.

The due diligence effort also includes the following:

* Confirming that appropriate copyright, trademark, and patent filings have been made.
* Determining whether there are any export restrictions.
* Removing any inappropriate, derogatory, or offensive statements or references in the source code.

Upon successful completion of the due diligence process, the approval board that reviewed the business analysis should either approve the project itself or pass a recommendation to an appropriate senior executive for final approval.
Once the project has been approved, you may announce the project and release the source code.

==== Getting Approval To Use Source Code Developed Outside Your Company

If you are planning on downloading source code that has been released under an open-source license, then before you can incorporate that code into a company product or use it internally you will first need to get company approval.
This is to ensure that your business unit, any affected functional groups (for example, support), and your upper management are making informed decisions when they acknowledge and accept the risks and obligations dictated by the license that the downloaded code uses.

These risks include the following:

* No warranties, which means that if the source code infringes the intellectual property rights of a third party, your company could be required to stop shipping products containing the downloaded code and could be forced to pay monetary damages.
* No support, so, if needed, your company must resolve performance, customer support and maintenance, internationalization, and localization issues.
(Of course, providing support for an open-source product can be an excellent business opportunity.)
* Limits on what your company can do with a product based on the open-source code, which means that your company may not be able to release a larger work under a desired license.
* Additional requirements on your company, such as that all source code in any derived work must be made publicly available.
* Indiscriminate dissemination of the downloaded source code within your company, which could permit it to be unknowingly used in some other, inappropriate company product.

The approval process needs to review the business case for using the downloaded code, including how these risks will be minimized or handled.
Issues that must be addressed fall into three main categories: business analysis, strategic analysis, and legal review.

===== Business Analysis

First you must do the following:

* Identify and describe the technology you wish to use.
* Explain the strategic significance of the technology:
What gap does it fill?
What is its benefit to your company? What alternatives are there?
* Identify which of your company's products will use the technology and how they will use it:
Will it be embedded in the product or just bundled with it?
If embedded, will the downloaded code be used as is or will it be modified?
* Describe how your company will distribute the technology (for example, in source or binary):
Will the technology's functionality be segregated from your company's proprietary code?
* State whether there will be any license fees or royalties for the company products that will include the technology.
* Explain how the technology will be maintained and supported.
* Describe the proposed licensing model for any of your company products developed using the downloaded source code.
* Estimate the difficulty and the time required to remove or replace the downloaded technology if that should become necessary.

===== Strategic Analysis

Next, someone from your company's corporate strategy and planning department must do the following:

Ensure that your company's strategic rationale and business purposes for downloading the technology are consistent with your company's long-term technical and business objectives.

Check with your company's support division that the appropriate support and engineering resources are available to support the downloaded source code once it has been embedded in one of your company's products.

===== Legal Review

And, finally, your legal department needs to do the following:

* Identify licensing requirements, such as needing to publish the modified source code.
* Identify any legal risks associated with using the downloaded technology.
* Identify any steps or measures to minimize the risks or to comply with the licensing requirements.

Once you have the information required by these steps, the approval board can review matters.
Only after approval is granted can the downloaded source code be incorporated into a company product.
Once it has, your group will be responsible for making sure that your company complies with any requirements imposed by the download license.

Several groups in a company might want to use a specific downloaded technology — especially one used only internally and not in any company products, such as Emacs, Apache, or Tomcat.
For these cases, it might make sense to create a fast-track approval process that can be used to quickly approve requests to use downloaded software that has already been fully reviewed.
The only thing that needs to be checked is that the software will be used the same way.

It may also be possible to automatically approve software downloaded for an employee's individual use, such as a calendar manager, address book, news reader, or web browser.
The key point here is that the employee is not modifying or redistributing the software.
But even in these cases it is important to check that the license used by the software does not preclude its commercial use, the use of the software as part of an individual's job.

==== Getting Approval To Participate In An Existing Open-source Project

If you are planning on having your company's employees participate in an existing open-source project, then before they can do any work with it you need to get the proper approval.
This approval process will probably be similar to that for participating in a joint effort with another company or an industry consortium.
In some cases, all that may be required is that the direct managers give their approval to the participating engineers.
For example, a small, focused effort by one of your engineers to help an open-source project adapt its code to run well with one of your company's products should not require a heavyweight approval process.

If code previously developed by your company will be contributed to the project or if the code developed by the project will be incorporated into one of your company's products, then one, or both, of the previous policies may apply and require an additional approval process.

The steps that should be followed before any of your company engineers may participate involve the details of the open-source project such as the following:

* Describe the overall open-source project.
* Determine the primary reasons that your company should participate.
* Determine the precise goals and objectives for your company personnel working on the project.
* Determine which open-source license the project uses.
* Determine how IP is handled.
Does the project allow contributors to retain copyright on contributed code?
* Identify other companies participating in the project.

There are also steps involving risks to your company's intellectual property rights, as follows:

* Identify the procedures you will put in place to prevent any of the open-source code developed by your company personnel from subsequently getting mixed with your company's proprietary code.
* Determine the likelihood that your company personnel developing open-source code will later be asked to develop similar functionality in your company's proprietary code.
* Determine whether any existing company patents fall within the scope of the project.
* Outline the steps you will take while working on the project to identify possible future patents.
* Determine whether participation in the project will increase the risk that company personnel could disclose trade secrets.

Once this information has been obtained and your management grants approval, then you can start to participate in the open-source effort.

==== Getting Approval as an Individual

Many software engineers choose to spend part of their personal time contributing to open-source projects.
By doing so, they learn new technologies, get feedback on their coding abilities, and otherwise grow and develop.
This is a benefit to the company they work for because it makes them more valuable as employees.
However, it can create a problem if their open-source work conflicts in some way with the company's business.

A company may have legitimate concerns about work employees do in their spare time.
If the open-source work is similar to an employee's job then there is the danger that the employee will disclose proprietary information concerning technical ideas or business plans.
This could make it impossible to file patents on work the company has done.
Likewise, the employee might inappropriately take ideas or code from the open-source project and use it in a company product, thereby tainting it.

Even when an employee's open-source work and normal work assignment are in different areas, the company might have a product that competes with that of the open-source project.
That can create a conflict of interest for the employee.

Many companies require their employees to sign an agreement when they are hired that specifies that the company owns anything that the employees invent.
Students who are receiving support from their university may be in a similar situation.
If the employees or students contribute to an open-source project, then their employer may claim ownership of their work.
There have been several stories reported at places such as Slashdot in which this has indeed happened and people had to stop their participation in the open-source project and have their code removed from it.
This is bad for the project, is very bad for the individual, and gives the company a bad name.
No one benefits from a situation like this.

All these potential problems can be avoided by having a simple process for employees to get approval to participate in an open-source project.
The process should ensure that the employees understand company policy regarding intellectual property and conflicts of interest.
General guidelines should be established and communicated to the employees.
These typically include that any open-source work should be done on the employees' own time, should not be done while at work or using company equipment, and should not be similar to what their normal job duties are.
A form amending the original employee agreement should be signed by an appropriate-level company executive and the employees should receive a copy.
The form should state that the company gives up any claim to the work done by the employees as part of the open-source project and that the employees have the right to assign their copyrights to the open-source project.

The need for approval arises largely because of the agreement many companies have new employees sign.
One suggestion from Slashdot is that when starting a new job the new employee should rewrite any offending clauses to restrict the scope of that agreement.
The following is an excerpt from that posting:

____
A lot of people think they have no negotiating ability.
You do.
When you're thinking of signing on with some company, and they send you a boiler-plate contract to sign, don't just sign it and send it back.
Read it carefully.
Alter it as you see fit, striking out sections, adding sections, and initialing each change.
Then sign it, make a copy for yourself, and send it back.

Where it says:

company owns the rights to all work produced during the term of employment

Just strike it out, and change it to:

company owns the rights to code written during working hours and in direct furtherance of any tasks assigned by the company

See how much nicer that reads?
Now, when you do this, there are two possibilities:
either the company will ignore it and hire you, or they will object to your alteration of the contract.footnote:[http://slashdot.org/article.pl?sid=02/03/21/0139244]
____

Many Slashdot posters have described how they did this when they started a new job and that their employers had no problem with making any reasonable changes.

==== Getting Approval To Stop Or Lessen Participation In A Sponsored Open-source Project

There will come a time when you need to reduce the number of people and resources devoted to an open-source project that your company has been sponsoring.
Because it is an open-source project, this is a much more public announcement than reducing the number of employees working on some internal proprietary product.
If handled badly, it can hurt your company's reputation in other open-source projects you sponsor or participate in — developers will question your company's commitment to open source.
You can also expect news stories reporting your company's change in focus.

Naturally, how damaging such a reduction in support can be depends on the size and prominence of the project.
If it is something as large as IBM's support for Eclipse, then reducing commitment will probably be written about in the mainstream press, whereas if it's a small company with a small project, there might be hardly any notice taken outside that project's community.
The community surrounding even a trivial project, however, can be vocal and influential beyond the apparent importance of the project itself, and it is sometimes hard to know for sure who is watching the project.
So be wary of how you try to reduce your company's commitment.

Because of the potential for damage to your company's reputation, it is important to have an approval process in place to review any decreases in your participation in publicly visible open-source projects.
The last thing your CEO wants is for the press to announce that your company is making major changes in strategy all because some low-level manager has laid off or transferred the employees most visible to one of your open-source projects.
We've seen this happen — a company laid off the employee providing the technological leadership for one of their open-source projects — along with the subsequent damage control the company needed to recover from it.

If you want to minimize the negative impact of reducing your commitment to an open-source project that your company sponsors, the questions that must be answered include the following:

* Is this a decrease in effort, or are you ending your participation in the project?
* How will it be announced?
* What will the public perception of the reduction be?
* How will the community of the open-source project react?
* How will this affect other open-source projects your company is participating in?

If you are ending your sponsorship of the project, there must be a plan and schedule for disengaging.
You will need to answer the following additional questions:

* Who from the community will take over the project?
* Where will the project's website be hosted? How will any transition take place?
* What obligations do you need to fulfill (for example, continuing to post the source code)?
* Is it okay for your developers to continue to participate on their own time if they wish to?

Making sure all of these questions have satisfactory answers before taking any public actions should minimize any possible harm to your company and keep the respect of the open-source world.

==== What about Small Projects or End-of-Life Products?

For a small project, all of this may seem like overkill.
However, the same steps must be followed whether you are releasing 500 lines of code or 500,000.
Of course, it is much easier to do due diligence on 500 lines of source code so it can be released.

To be successful, open source requires fostering a community around the code, and that takes work.
At a minimum, someone who understands the code must filter suggested changes and help developers work with it.
It also requires an archived mailing list or newsgroup and at least a handful of web pages, including one that lets people download the source code and executable versions.

Most open-source projects are fairly small, consisting of fewer than 20 developers and several hundred users.
So, the effort required is only the discussion and coding needed to move the project along.
As long as the user community is happy with the rate of progress, the project is alive and healthy.
For a mature project there may not be many, if any, changes being made to the code — the community will stay healthy from active discussions on how to best use the software.

Because a small project will have a limited budget (and an EOL project may have no budget), it will probably not be able to afford to have a dedicated website.
If your company already has a website for small company-sponsored open-source projects, then you can host your project there.
For example, a number of smaller Sun open-source projects are hosted at SunSource.net.footnote:[http://sunsource.net]
If your company does not have such a website then you will need to use a free website provider, such as SourceForge.footnote:[http://sourceforge.net]

For EOLed code that is no longer being supported, but that you don't want to die, the amount of effort needed to make it open source may seem to be orders of magnitude more than the work you expect your group will put into the code in the future.
Remember that open source is not magic:
It takes a lot of work to create a community and make an open-source project successful.
You will still need to determine an appropriate license for the software.
To give a community a chance to grow, you should expect that you will need to commit one or two engineers for at least a year to engage with the community and to continue working on the code.

For a product that you are about to stop supporting, you may just want to provide the source code to current customers so they can continue to use it.
That is, you want to keep your customers happy even though you are discontinuing the product, but you are not interested in creating a community.
In such a case, it may be sufficient to make the source code and supporting material, such as build scripts and internal documentation, available for download on your regular corporate website.
You should also make sure that there is an email list or forum set up so that your customers can help each other — plan for some of your engineers to participate on that list.

=== Problems You Can Expect to Encounter

Once you have approval for your project and have begun open-source development, there are a number of problems that you are likely to encounter.
We end this chapter by discussing some of the more common ones along with ways to handle them.
These difficulties crop up in virtually every open-source project just because of how people act when they try to collaborate.
These are the problems that you'll see even when you do everything right.
There is a whole other class of problems that results from mistakes being made in how an open-source project is run, which we cover in Chapter 9.

==== Getting Engagement

The first problem you may face when you start up your open-source project is that no one seems to care about it — no potential users download your application to try it out;
perhaps no one even visits your project's website.
If so, you need to publicize your project, telling people how and why it helps them.
See the section on <<marketing-project>> in Chapter 8 for suggestions on ways to do this.

Another problem you may encounter is that once you start getting users, only a few bug reports or contributions are submitted.
People are downloading your application and, you hope, using it, but they are not providing the feedback or improvements you had hoped for.
It may be because it just takes time for a community to develop, but it also may be that you are discouraging outside participation.
Some things that you can do to increase participation are described in the section <<focus-users-contributors>> in Chapter 8.

A third problem you may see is that many user questions posted to your project's mailing lists go unanswered.
If outside individuals are posting only questions to your mailing lists and your team is answering all of them, you will quickly become overwhelmed trying to answer everybody.
When you start up the open-source project, tell your developers to use the rule of delaying answering a posted question for a day or two.
This will encourage your users to answer them.
If a question has not been not answered after a day or two, then one of your developers should answer it.
Typically, the community manager is the one to answer such questions, but make sure those you assign are capable of answering the more difficult questions asked by your intermediate and advanced community members — these members, knowing their questions will be answered by one of the experts you've assigned, will have a reason to stay on the list, and they will be just the ones to provide answers to the easier queries.
Check the attitude expressed in the messages your team posts:
Is it arrogant?
Does your team embarrass people when they are wrong?
You need to make the mailing list a safe place for people to participate.

It is very important to build up a community of givers rather than takers.
Open source is very much a gift economy.
The more personally connected your team members are with other individuals in the community and the more they are perceived as giving to and caring about the community, the greater will be the community involvement and participation in the project.
Conversely, if your developers act as if they are just doing their jobs, then do not expect much in the way of outside volunteers or for a community to develop — at best you will have a user group.

==== Plays Well with Others

Software developers often have strong opinions and are not shy about expressing them.
Some might even be accused of lacking in social skills.
When they interact, sparks can fly and lots of unproductive flaming can result.
In every open-source project, there will often be major differences of opinion on what is the best architecture or technical solution to any given problem.
Too many battles can split a community, causing some developers to leave to start a competing project.
To avoid this fate for your project, it is important that your developers learn to help arbitrate any flame wars that occur.
Even when they disagree with some community member, they need to keep the conversation civil and focus the community on its common goals.
Make sure people feel they are being heard and that their viewpoint is seen as a positive contribution to the project even if it is not the direction chosen.
Figure out a way to explicitly recognize and reward those of your team who douse flames well.

A related problem is that some discussions never seem to resolve:
Various viewpoints get expressed, but no solution is agreed on.
In some projects, the project founder or a module owner plays the role of final decision maker.
In other projects, there is no one individual in charge.
For those other projects, each issue needs to have a person assigned to bring it to conclusion — often this is the person who brought up the issue or the one who will undertake implementing whatever solution is chosen.
It might also be a person with good project management skills, who can listen to what developers are saying.
This person needs to follow-up on each issue raised during the discussion, get a sense of how the community feels about each, and summarize matters when the discussion winds down or when nothing new is being said.
The summary should indicate what was decided and who will do any associated work to implement it.

The decision about an issue can also falter because only a few people participate in the discussion.
It might be necessary to solicit the opinions of specific community members who are knowledgeable on the particular issue.
Lack of discussion may also indicate that the community does not consider the issue to be important, and so the appropriate decision might be to do nothing for now.

Sometimes there will be lots of noise on the project's mailing lists, often by people who think they know more than they actually do or who have an extreme viewpoint — noise in the form of extended discussion on how to approach a particular problem or a new idea about what to add or a direction to go.
There will always be some noise like this on the lists, but too much can drive valued community members away.
However, it's important to consider whether some discussion really is noise or whether it is important information that differs from the prejudices of the main project developers — sometimes it is hard to tell the difference.
Often the best solution is to suggest that those in favor of the new idea should create a new subproject and implement a prototype.
This at least moves the discussion to another list and your community might be pleasantly surprised when they get to see the idea put into practice.
As for those few folks who continue to send flames, you may need to send them a private message asking them what's going on and to please tone it down — sometimes they don't realize that they are acting inappropriately.

Managing community expectations is another common problem.
No matter how much you do, you can count on people requesting additional features — in fact you want them to.
Some of these requests will be for things that everyone agrees would be great, whereas others may be more questionable or not fit with the project's main direction.
In any case, your company has only so many employees who can work on your project, so there will always be more than you can do.
It is very important that you establish a community of peers where it is taken for granted that anyone can and does contribute to the project.
In such a community, the person who proposes a new feature is a logical choice for who should implement it.
Although some open-source projects adopt the attitude that anyone who proposes a change or feature must "show me the code," you shouldn't fall prey to it.
Sometimes a gifted designer or someone who understands the user community very well is not a gifted coder, and you should encourage outside developers to work with such people.
What you do not want is a community where everyone expects that all significant work will be done only by your company.
When there is a feature that you do not wish to have your employees work on, you want the community's energies directed at implementing the feature itself, not at trying to convince you to do so.

==== Dealing with Your Own Company

Sometimes it's not just the community outside your company that insists on telling you what to do.
Sometimes other groups inside your own company demand that you add features for them that you either do not have the resources to do or that clash with the publicly stated road map of your project.
The more you can encourage other parts of your company to actively participate through the open-source process, the better.
Once other groups learn that they can submit bug fixes and new features directly, they will understand that they can control their own schedules and not be dependent on your group.
This is the same form of risk reduction that a company enjoys when it has a source-code escrow agreement with a supplier or it uses an open-source solution and the original supplier or support company is unresponsive or goes out of business:
The source code can be fixed and improved without the intercession of the original development group.
In this way, open source can reduce risks for other parts of your company.

If your current managers have problems resolving disputes among your developers, then making your project open source can make things worse.
As already mentioned, the open-source method of making decisions via public discussion on project mailing lists often does not reach a clear consensus.
If your own developers do not agree with the direction the project is taking, they can air their objections in the public discussion and use the ensuing uncertainty to block others from taking action.
It is important that your developers be able to express themselves freely on the project mailing lists, but you do not want them using those discussions to further their private agendas.
This can sometimes be a tough call, and it requires that your project managers be willing to step in when necessary and make decisions about what your company's developers should be working on.
An example of this problem that we've seen occur is when a developer who does not want to implement what a user-interface designer has proposed uses disagreements with the proposal on the mailing lists as a reason to do whatever that developer prefers.
In a traditional proprietary project, the developer would not have a choice, but would need to implement what the UI expert thought best.

Another common problem occurs when there is a change in management in your company and your new management doesn't understand open source.
If this happens, you need to immediately start to educate them about open source and make it clear how your use of open source helps your company.
If your old manager can help explain why open source makes sense, so much the better.
A failure on your part to sell your new management on the value of open source can have disastrous consequences, both when resource decisions need to be made and when you and your project come up for review.

==== Contributing to Other Projects

The last problem we consider here is you as an individual having trouble getting your contributions accepted when you are participating in an open-source project that is run by someone else.
You've fixed a major bug or written some nifty new feature, but you cannot get the open-source project to accept it.
It can be very frustrating when you are trying to help, but are being ignored.

There are several reasons why this may be the case.
The first is that the community might not know you.
If this is your first contribution, then people will be wondering who you are and why should they pay any attention to what you say.
It is very important that you build up your reputation with the community by helping to fix small bugs and participating in discussions.
Contributions that show people that you are competent and that affirm that you share in the project's goals will give you standing in the community.
Only then will people be willing to listen to you when you make suggestions that go beyond the current project road map.
You and the rest of your team may be the authorities within your company, but unless you are also world famous, you will need to establish a track record through your participation in the open-source project.
It's not just a question of your competency, but also one of trust.
This is especially important because companies are often viewed suspiciously and many will assume your company is trying somehow through you to rip off the work done by the open-source community.
You need to demonstrate that you, as an individual, are someone the community can trust.

Another reason your contribution may not be accepted is that your proposed solution is not seen by the community as adding any value.
This may be because you are concerned about a different set of issues — for example, you may be extending the software to work in a complex enterprise setting, whereas the project's focus is on an individual using a single machine;
or you may be interested in making the software more usable by novices, whereas the community is mostly expert power users.
It's up to you to convince the community members — or at least the relevant module owner — that what you are proposing has value.
In any such discussion, you should listen carefully to any objections raised by the community.
It is very likely that you will need to modify your proposed solution to take the community's concerns into account.
You should start this dialog as soon as you know that you need to fix some bug or add some feature, well before you write any code.
If you wait until after you have all the code written and then surprise the community with it, you will probably be the one surprised.

For more discussion see the section <<getting-contributions-accepted>> in Chapter 6.

You may find that the project or module owner isn't responding to your email messages.
Remember that a lot of open-source developers are volunteers, so they may be busy with their real jobs or other work, they might be on vacation, or they may be temporarily burned out on open source.
By looking at the traffic on the project's mailing lists and in the mail archives, you should be able to determine whether the project owner is ignoring just you or is simply not currently active at all.
Also, as previously mentioned, if no one knows who you are, then on a busy mailing list your comments will be easy to overlook, especially if they are on a topic far from the project's current focus.

=== Going with Open Source

Going with open source is not a simple task, nor is it inexpensive.
Your company should have a clear, long-term vision of the business goals of such a project.
Because the commitment is expensive and lengthy, the primary business goals that make sense are strategic ones.
If you find yourself thinking of using open source as a tactic, you should think very hard because when the time for the tactic is over, you might have to pay a price out of balance with the tactical gain you realized.

We have provided here a good general idea of the questions to ask and considerations to take into account when deciding whether to go with open source and preparing to execute the decision.
If you've read this book and absorbed the philosophy, principles, and practices of open source, you should be able to work your way through any other questions or issues that come up that we haven't covered.
